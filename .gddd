import random
from .. import loader, utils
from asyncio import sleep

@loader.tds 
class AutoICMod(loader.Module): 
 strings = {"name": "AutoFish"}

 async def client_ready(self, client, db): 
  self.client = client 
  self.db = db 
  self.myid = (await client.get_me()).id 

 async def cwoncmd(self, message): 
  """–í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é""" 
  status1 = self.db.get(self.name, "status", False);
  if status1: return await message.edit('–£–∂–µ –≤–∫–ª—é—á–µ–Ω–æ');
  self.db.set(self.name, "status", True);
  await message.edit('–í–∫–ª—é—á–µ–Ω–æ');

 async def cwoffcmd(self, message): 
  """–í—ã–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é, –ª–æ–ª"""
  self.db.set(self.name, 'status', False);
  await message.edit('–í—ã–∫–ª—é—á–µ–Ω–æ');
 
 async def watcher(self, message):
  if status is not False:
   boo = [1, 2, 3]
   if message.sender_id == 1219677707:
    if "üé£ –ö–ª—é—ë—Ç, –ø–æ–¥—Å–µ–∫–∞–π—Ç–µ!" in message.raw_text:
     await sleep(random.choice(boo));
     await message.click();
    elif "üé£ –£–¥–æ—á–∫–∞:" in message.raw_text:
     await sleep(random.choice(boo))
     await message.click(2);
  if message.sender_id == 1219677707:
   if "Fish Off" in message.raw_text:
    self.db.set(self.name, 'status', False);
    await message.client.send_message(1219677707, '!–≤—ã—Ä—É–±–∏–ª');
