import random
from .. import loader, utils
from asyncio import sleep

@loader.tds 
class AutoICMod(loader.Module): 
 strings = {"name": "AutoFish"}

 async def client_ready(self, client, db):
  self.db = db
  self.db.set("AutoFish", "status", True)

 async def rpmodcmd(self, message):
  """–ò—Å–ø–æ–ª—å–∑—É–π —Ä–µ–∂–∏–º."""
  status = self.db.get("AutoFish", "status")
  if status is not False:
   self.db.set("AutoFish", "status", False)
   await message.edit("<b>–†–µ–∂–∏–º <code>–≤—ã–∫–ª—é—á–µ–Ω</code></b>")
  else:
   self.db.set("AutoFish", "status", True)
   await message.edit("<b>–†–µ–∂–∏–º <code>–≤–∫–ª—é—á–µ–Ω</code></b>")
 
 async def watcher(self, message):
  if status is not False:
   boo = [1, 2, 3]
   if message.sender_id == 1219677707:
    if "üé£ –ö–ª—é—ë—Ç, –ø–æ–¥—Å–µ–∫–∞–π—Ç–µ!" in message.raw_text:
     await sleep(random.choice(boo));
     await message.click();
    elif "üé£ –£–¥–æ—á–∫–∞:" in message.raw_text:
     await sleep(random.choice(boo))
     await message.click(2);
  if message.sender_id == 1219677707:
   if "Fish Off" in message.raw_text:
    self.db.set(self.name, 'status', False);
    await message.client.send_message(1219677707, '!–≤—ã—Ä—É–±–∏–ª');
